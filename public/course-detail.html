<!DOCTYPE html>
<html>
<head>
    <title>Course Details</title>
    <style>
        /* Basic styling for the course details */
        .detail-label {
            font-weight: bold;
        }
        .detail-value {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Course Details</h1>
    <div id="course-details">
        </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const courseDetailsDiv = document.getElementById('course-details');

            // Function to get the course ID from the query parameter
            const getCourseId = () => {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get('courseId');
            };

            // Function to fetch and display course details from Firestore
            const fetchCourseDetails = async (courseId) => {
                // Replace with your Firebase initialization and firestore reference
                const db = firebase.firestore(); // Get Firestore reference

                try {
                    const courseDoc = await db.collection('courses').doc(courseId).get();

                    if (courseDoc.exists) {
                        const courseData = courseDoc.data();

                        // Create and append elements to display course details
                        const courseCodeDiv = document.createElement('div');
                        courseCodeDiv.classList.add('detail-item');
                        courseCodeDiv.innerHTML = `<span class="detail-label">Course Code:</span> <span class="detail-value">${courseData.courseCode}</span>`;
                        courseDetailsDiv.appendChild(courseCodeDiv);

                        const courseNameDiv = document.createElement('div');
                        courseNameDiv.classList.add('detail-item');
                        courseNameDiv.innerHTML = `<span class="detail-label">Course Name:</span> <span class="detail-value">${courseData.courseName}</span>`;
                        courseDetailsDiv.appendChild(courseNameDiv);

                        const creditsDiv = document.createElement('div');
                        creditsDiv.classList.add('detail-item');
                        creditsDiv.innerHTML = `<span class="detail-label">Credits:</span> <span class="detail-value">${courseData.credits}</span>`;
                        courseDetailsDiv.appendChild(creditsDiv);

                        // Add other details as needed...
                    } else {
                        courseDetailsDiv.textContent = 'Course not found.';
                    }
                } catch (error) {
                    console.error('Error fetching course details:', error);
                    courseDetailsDiv.textContent = 'Error loading course details.';
                }
            };

            const courseId = getCourseId();
            if (courseId) {
                fetchCourseDetails(courseId);
            } else {
                courseDetailsDiv.textContent = 'No course ID provided.';
            }
        });
    </script>
    <script src="/__/firebase/8.6.8/firebase-app.js"></script>
    <script src="/__/firebase/8.6.8/firebase-firestore.js"></script>
    <script src="/__/firebase/init.js"></script>
</body>
</html>
